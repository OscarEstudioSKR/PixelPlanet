{"version":3,"sources":["recurse/SpritesTerreno02.jpg","recurse/SpritesTerreno01.jpg","recurse/SpritesTerreno03.jpg","recurse/Personajes01.png","recurse/menuSeresIma.png","js/db.js","js/tabla.js","js/configMap.js","js/algoritmoAEstrella.js","js/seresIA.js","js/mapa.js","js/MenuSer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","db","config","numCasillas","tamCasilla","vista","tablaVacia","id","pos","obstaculo","penalizacionMov","imagenEncadenada","imgSuelo","posImg","listaNombresF","tabla","seres","idToPos","y","Math","floor","abs","ran","min","max","random","posToId","vecinos","arrTemp","casillasTotales","push","distAB","origen","destino","direccionMirada","idOrigen","idDestino","generarBioma","bioma","generarBloques","spriteMapaSuelo01","spriteMapaSuelo02","spriteMapaSuelo03","tipo","tamMin","tamMax","cantMin","cantMax","imgBioma","tipoBloque","numCasillasTotal","listaTemp","listaFinal","cantidad","i","concat","length","filter","objetoFijo","map","obj","imagenInterior","crearSer","idPos","raza","sexo","familia","nombre","dest","ruta","posIntermedia","velocidad","direccionMov","img","personajes01","estado","accion","inteligencia","agotamiento","sed","hambre","salud","habilidades","hogar","reproduccion","tipoReproduccion","cicloReproduccion","sexoEmbarazo","costeBase","direccion","menorF","arr","idArrFinal","f","aCerrada","abierta","cerrada","splice","addObj","g","listaAbierta","posTemp","h","padre","lenght","conversionFinal","listaCerrada","pasosMaximo","rutaCompleta","arrInversa","reverse","next","objFinal","DibujarSeres","_Component","props","_this","init","state","ser","darPasoDireccion","shift","listaCalcular","idFinal","el","objCerrada","objDestino","objAbierta","maximoPasosBucle","obtenerRuta","moverse","vel","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","tam","vivido","setStatePadre","cambiarMenu","setInterval","setState","inherits","createClass","key","value","x","propor","suelo","_this2","styleSer","position","zIndex","left","top","height","width","backgroundImage","backgroundPosition","cambioImagenAccion","backgroundSize","react_default","a","createElement","style","className","onClick","event","Component","DibujarMapa","styleCasilla","color","MenuSer","right","fontSize","textAlign","menuSeresIma","crearTabla","listaVecinos","vecino","includes","recalcularImagenes","tecla","document","onkeypress","console","log","keyCode","window","scrollTo","scrollX","scrollY","onkeyup","onmousedown","button","App","menuPersonajes","mapa","seresIA_DibujarSeres","js_MenuSer","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ae3f9a57.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/SpritesTerreno02.e9b099ca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/SpritesTerreno01.a7af4673.jpg\";","module.exports = __webpack_public_path__ + \"static/media/SpritesTerreno03.d6317b93.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Personajes01.efb92a49.png\";","module.exports = __webpack_public_path__ + \"static/media/menuSeresIma.b3419268.png\";","\r\nexport var db = \r\n{\r\n  'config':{\r\n    'numCasillas': 50,\r\n    'tamCasilla': 80,\r\n    'vista': '',  //VerPenalizacion - VerObstaculo - verIdCasillas\r\n    'tablaVacia': {\r\n      'id': 0,\r\n      'pos': [0,0],\r\n      'obstaculo': false,\r\n      'penalizacionMov': 0,\r\n      'imagenEncadenada': false,\r\n      'imgSuelo': '',\r\n      'posImg': [0,0],\r\n    },\r\n    'listaNombresF': ['Lara', 'Eva', 'Clara', 'Marta', 'Fatima', 'Anna', 'Lucia', 'Carmen'],\r\n  },\r\n  'tabla':[],\r\n  'seres':[],\r\n\r\n}","import { db } from './db.js';\r\n\r\n//Devuelve una posición [x,y] a partir de una id de casilla\r\nexport function idToPos(id){\r\n    let y = Math.floor(id/db.config.numCasillas);\r\n    let x = Math.abs(id-(y*db.config.numCasillas));\r\n    return [x,y];\r\n}\r\nexport function ran(min, max){ \r\n    return Math.floor(Math.random()*(max-min+1) )+min;\r\n}\r\n\r\n//Devuelve a partir de una [x, y], la posición id de la casilla\r\nexport function posToId(pos){\r\n    return pos[0]+(pos[1]*db.config.numCasillas);   \r\n}\r\n\r\n//Regresa un array con los 8 vecinos al rededor de la casilla id\r\nexport function vecinos(id){\r\n    let arrTemp = [];\r\n    let casillasTotales = db.config.numCasillas*db.config.numCasillas;\r\n    let numCasillas = db.config.numCasillas;\r\n\r\n    //Arriba\r\n    if(id - numCasillas >= 0){arrTemp.push(id - numCasillas)}\r\n    //Arriba-Derecha\r\n    if(id - numCasillas +1 >= 0 && idToPos( id-numCasillas+1 )[1] === idToPos(id-numCasillas)[1]){ arrTemp.push(id - numCasillas +1)}\r\n    //Derecha\r\n    if(idToPos(id+1)[1] === idToPos(id)[1]){arrTemp.push(id+1);}\r\n    //Abajo-Derecha\r\n    if(id + numCasillas +1 < casillasTotales-1 && idToPos( id+numCasillas+1 )[1] === idToPos(id+numCasillas)[1]){ arrTemp.push(id + numCasillas +1)}\r\n    //Abajo\r\n    if(id + numCasillas < casillasTotales-1){arrTemp.push(id + numCasillas)}\r\n    //Abajo-Izquierda\r\n    if(id + numCasillas -1 < casillasTotales-1 && idToPos( id+numCasillas-1 )[1] === idToPos(id+numCasillas)[1]){ arrTemp.push(id + numCasillas -1)}\r\n    //Izquierda\r\n    if(idToPos(id-1)[1] === idToPos(id)[1]){arrTemp.push(id-1);}\r\n    //Arriba-Izquierda\r\n    if(id - numCasillas -1 >= 0 && idToPos( id-numCasillas-1 )[1] === idToPos(id-numCasillas)[1]){ arrTemp.push(id - numCasillas -1)}\r\n\r\n    return arrTemp;\r\n}\r\n\r\n//Devuelve la distancia en casillas desde un punto a otro.\r\nexport function distAB(origen, destino){\r\n    return Math.abs( idToPos( origen )[0] - idToPos( destino )[0] ) +  Math.abs(idToPos( origen )[1] - idToPos( destino )[1] )\r\n}\r\n\r\n//Devuelve del 1 al 8, indicando la posicion en que mira 1 = arriba, 2 = arriba-derecha, 3 = derecha...\r\nexport function direccionMirada(idOrigen, idDestino){\r\n    let origen = idToPos(idOrigen);\r\n    let destino = idToPos(idDestino);\r\n\r\n    if( idDestino < idOrigen ){\r\n        if (destino[1] === origen[1]){ return 7 }\r\n        else if (destino[0] > origen[0]){ return 2 }\r\n        else if (destino[0] < origen[0]){ return 8 }\r\n        else { return 1 }\r\n\r\n    }else if( idDestino > idOrigen ){\r\n        if (destino[1] === origen[1]){ return 3 }\r\n        else if (destino[0] > origen[0]){ return 4 }\r\n        else if (destino[0] < origen[0]){ return 6 }\r\n        else { return 5 }\r\n    }\r\n    return 0;\r\n}\r\n\r\nexport function tipoCasilla(idCasilla){\r\n\r\n}","import { db } from './db.js';\r\nimport { idToPos, vecinos, direccionMirada, ran} from './tabla.js';\r\nimport spriteMapaSuelo01 from '../recurse/SpritesTerreno01.jpg';\r\nimport spriteMapaSuelo02 from '../recurse/SpritesTerreno02.jpg';\r\nimport spriteMapaSuelo03 from '../recurse/SpritesTerreno03.jpg';\r\nimport personajes01 from '../recurse/Personajes01.png';\r\n\r\n\r\n\r\nexport function crearTabla(){\r\n\r\n    let i = 0;\r\n    for( let y = 0 ; y < db.config.numCasillas ; y++ ){\r\n        for( let x = 0 ; x < db.config.numCasillas ; x++ ){\r\n\r\n            db.tabla.push({\r\n                'id': i,\r\n                'pos': [ x,y ],\r\n                'obstaculo': false,\r\n                'imagenEncadenada': false,\r\n                'imagenInterior': false,\r\n                'penalizacionMov': 0,\r\n                'imgSuelo': spriteMapaSuelo01,\r\n                'posImg': \r\n                    Math.random()< 0.75 ? [0,0] : \r\n                    Math.random() > 0.95 ? \r\n                        Math.random() > 0.7 ? [1000, 800] : [Math.floor(Math.random()*6)*200, 800]:\r\n                        [Math.floor(Math.random()*7)*200, 1400-Math.floor(Math.random()*3)*200],\r\n            });\r\n            i++;\r\n            if(db.tabla[db.tabla.length-1].posImg[1] === 800){\r\n                db.tabla[db.tabla.length-1].penalizacionMov = 300;\r\n            }\r\n    }}\r\n\r\n   //Generar Placa\r\n   generarBioma('Pradera');\r\n   generarBioma('Montaña');\r\n   generarBioma('Lagos');\r\n   generarBioma('Bosque');\r\n   \r\n\r\n}\r\n\r\nfunction generarBioma(bioma){\r\n    switch (bioma) {\r\n\r\n        case 'Valle':\r\n            generarBloques( 'expansiva', 300, 500, 2, 3, spriteMapaSuelo01, 'elevacion');\r\n            generarBloques( 'compacta', 300, 500, 2, 5, spriteMapaSuelo01, 'elevacion');\r\n            generarBloques( 'compacta', 1, 5, 20, 30, spriteMapaSuelo01, 'elevacion');\r\n            break;\r\n        case 'Montaña':\r\n            generarBloques( 'expansiva', 300, 500, 2, 3, spriteMapaSuelo01, 'elevacion');\r\n            generarBloques( 'compacta', 50, 200, 10, 20, spriteMapaSuelo01, 'elevacion');\r\n            generarBloques( 'compacta', 1, 20, 20, 30, spriteMapaSuelo01, 'elevacion');\r\n            break;\r\n        case 'Lagos':\r\n            generarBloques( 'expansiva', 300, 500, 2, 3, spriteMapaSuelo02, 'agua');\r\n            generarBloques( 'compacta', 50, 200, 10, 20, spriteMapaSuelo02, 'agua');\r\n            generarBloques( 'compacta', 20, 50, 20, 30, spriteMapaSuelo02, 'suelo');\r\n            break;\r\n        case 'Pradera':\r\n            generarBloques( 'repartida', 3, 10, 5, 10, spriteMapaSuelo02, 'arboledaVerde');\r\n            generarBloques( 'expansiva', 5, 20, 2, 4, spriteMapaSuelo02, 'arboledaVerde');\r\n            generarBloques( 'expansiva',5, 10, 1, 3, spriteMapaSuelo02, 'agrupacion');\r\n            generarBloques( 'expansiva',5, 10, 1, 3, spriteMapaSuelo02, 'agrupacion');\r\n            generarBloques( 'expansiva',5, 10, 1, 3, spriteMapaSuelo02, 'agrupacion');\r\n            generarBloques( 'expansiva',5, 10, 1, 3, spriteMapaSuelo02, 'agrupacion');\r\n            generarBloques( 'expansiva',5, 10, 1, 3, spriteMapaSuelo01, 'agrupacion');\r\n            generarBloques( 'expansiva',5, 10, 1, 3, spriteMapaSuelo01, 'agrupacion');\r\n            break;\r\n        case 'Bosque':\r\n            generarBloques( 'compacta', 50, 150, 3, 8, spriteMapaSuelo03, 'interior');\r\n            generarBloques( 'expansiva', 400, 1000, 3, 5, spriteMapaSuelo03, 'interior');\r\n            generarBloques( 'repartida', 20, 50, 3, 6, spriteMapaSuelo03, 'interior');\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nfunction generarBloques(tipo ,tamMin, tamMax, cantMin, cantMax, imgBioma, tipoBloque){\r\n\r\n    let numCasillasTotal = db.config.numCasillas*db.config.numCasillas;   \r\n    let listaTemp = [];\r\n    let listaFinal = [];\r\n\r\n    for(let cantidad = 0; cantidad < ran(cantMin, cantMax) ; cantidad++){\r\n        listaTemp = [ran(0, numCasillasTotal)];\r\n\r\n        for(let i = 0; i < ran(tamMin, tamMax) ; i++){          \r\n\r\n            if(tipo === 'expansiva'){\r\n                listaTemp = listaTemp.concat( vecinos( listaTemp[listaTemp.length-1] ).filter(()=>{return ran(0,100)>80}));\r\n            }\r\n            else if(tipo === 'compacta'){\r\n                listaTemp = listaTemp.concat( vecinos( listaTemp[listaTemp.length-1] ).filter(()=>{return ran(0,100)>30}));\r\n                listaTemp = listaTemp.concat( vecinos( listaTemp[ran(listaTemp.length/2, listaTemp.length)] ));\r\n            }\r\n            else if(tipo === 'repartida'){\r\n                listaTemp = listaTemp.concat( vecinos( listaTemp[ran(0, listaTemp.length-1)] ).filter(()=>{return ran(0,100)>90}));\r\n                listaTemp[ran(0, listaTemp.length-1)] = ran(0, numCasillasTotal-1);\r\n            }\r\n            listaFinal = listaFinal.concat(listaTemp);\r\n        }\r\n    }\r\n\r\n    //Añadir todos los objetos a la tabla\r\n    let objetoFijo = [ ran(0,5)*200 ,ran(5,7)*200 ];\r\n    listaFinal.map( obj=> {\r\n        db.tabla[obj].imgSuelo = imgBioma;\r\n        db.tabla[obj].imagenInterior = false;\r\n        db.tabla[obj].obstaculo = false;\r\n        db.tabla[obj].imagenEncadenada = false;\r\n        db.tabla[obj].penalizacionMov = 0;\r\n\r\n        if(tipoBloque === 'elevacion'){\r\n            db.tabla[obj].obstaculo = true;            \r\n            db.tabla[obj].imagenEncadenada = true;\r\n            db.tabla[obj].penalizacionMov = 1000;\r\n        }\r\n        else if(tipoBloque === 'agua'){\r\n            db.tabla[obj].imagenEncadenada = true;\r\n            db.tabla[obj].penalizacionMov = 400;\r\n        }\r\n        else if(tipoBloque === 'suelo'){\r\n            if(db.tabla[obj].posImg[1] === 800){\r\n                db.tabla[obj].penalizacionMov = 300;\r\n            }\r\n        }\r\n        else if(tipoBloque === 'arboledaVerde'){\r\n            db.tabla[obj].posImg = [ (ran(0,10)>8 ? 1000 : 1200) ,800];\r\n            db.tabla[obj].penalizacionMov = 300;\r\n        }\r\n        else if(tipoBloque === 'agrupacion'){\r\n            db.tabla[obj].posImg = objetoFijo;\r\n        }\r\n        else if(tipoBloque === 'interior'){\r\n            db.tabla[obj].imagenEncadenada = true; \r\n            db.tabla[obj].imagenInterior = true;\r\n            db.tabla[obj].penalizacionMov = 10;\r\n        }\r\n        \r\n\r\n        \r\n    }); \r\n\r\n}\r\n\r\n\r\nexport function recalcularImagenes(el){\r\n\r\n                //La imagen es encadenada\r\n                if(el.imagenEncadenada === true){\r\n\r\n                    let listaVecinos = vecinos(el.id).filter((vecino)=>{\r\n                        let direccion = direccionMirada(el.id, vecino);\r\n                        if(db.tabla[vecino].imagenEncadenada === true &&\r\n                            db.tabla[vecino].imgSuelo === el.imgSuelo &&\r\n                            (direccion === 1 || direccion === 3 || direccion === 5 || direccion === 7))\r\n                        return db.tabla[vecino].imagenEncadenada === true});\r\n\r\n                    //¿Tiene vecinos?\r\n                    if(listaVecinos.length>0){\r\n                        //Solo un vecino\r\n                        if(listaVecinos.length==1){\r\n                            if (listaVecinos[0] === el.id+1) { db.tabla[el.id].posImg = [0,400] } //A la derecha\r\n                            if (listaVecinos[0] === el.id-1){ db.tabla[el.id].posImg = [800,400] } //A la izquierda\r\n                            if (listaVecinos[0] === el.id+db.config.numCasillas){ db.tabla[el.id].posImg = [400,600] } //Abajo\r\n                            if (listaVecinos[0] === el.id-db.config.numCasillas){ db.tabla[el.id].posImg = [400,400] } //Arriba\r\n                        }\r\n                        //Dos vecinos\r\n                        else if(listaVecinos.length==2){                      \r\n                            if ((listaVecinos[0] === el.id+1 && listaVecinos[1] === el.id-1)||\r\n                                (listaVecinos[1] === el.id+1 && listaVecinos[0] === el.id-1)) { \r\n                                db.tabla[el.id].posImg = [1000, 400];} //En medio horizontal                               \r\n                            else if ((listaVecinos[0] === el.id+db.config.numCasillas && listaVecinos[1] === el.id-db.config.numCasillas)||\r\n                                (listaVecinos[1] === el.id+db.config.numCasillas && listaVecinos[0] === el.id-db.config.numCasillas)) {\r\n                                db.tabla[el.id].posImg = [400, 200];}//En medio vertical              \r\n                            else if ((listaVecinos[0] === el.id-db.config.numCasillas && listaVecinos[1] === el.id+1)||\r\n                            (listaVecinos[1] === el.id-db.config.numCasillas && listaVecinos[0] === el.id+1)) {\r\n                                db.tabla[el.id].posImg = [200, 400];} //Esquina arriba-derecha          \r\n                            else if ((listaVecinos[0] === el.id+db.config.numCasillas && listaVecinos[1] === el.id+1)||\r\n                                (listaVecinos[1] === el.id+db.config.numCasillas && listaVecinos[0] === el.id+1)) {\r\n                                db.tabla[el.id].posImg = [200, 600];} //Esquina abajo-derecha \r\n                            else if ((listaVecinos[0] === el.id+db.config.numCasillas && listaVecinos[1] === el.id-1)||\r\n                            (listaVecinos[1] === el.id+db.config.numCasillas && listaVecinos[0] === el.id-1)) { \r\n                                db.tabla[el.id].posImg = [1200, 200];} //Esquina abajo-izquierda \r\n                            else{ db.tabla[el.id].posImg = [1000, 200]; }//Esquina arriba-izquierda                                  \r\n                        }\r\n                        //Tres vecinos, todos menos...\r\n                        else if(listaVecinos.length==3){\r\n                            if(listaVecinos.includes(el.id-1) === false){ db.tabla[el.id].posImg = [600, 200];}\r\n                            if(listaVecinos.includes(el.id+1) === false){ db.tabla[el.id].posImg = [800, 200];}\r\n                            if(listaVecinos.includes(el.id-db.config.numCasillas) === false){ db.tabla[el.id].posImg = [600, 600];}\r\n                            if(listaVecinos.includes(el.id+db.config.numCasillas) === false){ db.tabla[el.id].posImg = [600, 400];}\r\n                        }\r\n                        \r\n                        else{ \r\n                            listaVecinos = vecinos(el.id).filter((vecino)=>{\r\n                                return db.tabla[vecino].imgSuelo === el.imgSuelo});\r\n                                \r\n                            //Ocho vecinos\r\n                            if(listaVecinos.length === 8 && ran(0,10)>3){\r\n                                if(ran(0,20)==20){db.tabla[el.id].posImg = [800, 600];}\r\n                                else{db.tabla[el.id].posImg = [1000, 600];}\r\n                            }else{\r\n                                //Cuatro vecinos\r\n                                db.tabla[el.id].posImg = [200, 200];                                \r\n                            }\r\n                        }\r\n                    //Solo\r\n                    }else{ db.tabla[el.id].posImg = [1200, 600]; }\r\n\r\n                    //Sprites interiores\r\n                    if(db.tabla[el.id].imagenInterior && listaVecinos.length === 8){\r\n                        db.tabla[el.id].penalizacionMov = 10;\r\n                        if(ran(0,50)>42){\r\n                            db.tabla[el.id].posImg = [ ran(0,5)*200 ,ran(5,7)*200 ];\r\n                            db.tabla[el.id].penalizacionMov = 100;\r\n                        }else if(ran(0,50)>25){\r\n                            db.tabla[el.id].posImg = [ ran(4,5)*200 ,600 ];\r\n                        }else if(ran(0,10)>5){\r\n                            db.tabla[el.id].posImg = [ ran(0,5)*200 ,800 ];\r\n                            db.tabla[el.id].penalizacionMov = 500;                           \r\n                        }\r\n                         \r\n                        db.tabla[el.id].obstaculo = false;\r\n                    }\r\n                }\r\n\r\n  \r\n            }\r\n\r\n\r\nexport function crearSer(idPos, raza, sexo, familia){\r\n    \r\n    db.seres.push(\r\n        {\r\n            'id': db.seres.length,\r\n            'nombre': db.config.listaNombresF[ ran(0,  db.config.listaNombresF.length-1) ],\r\n            'pos': idToPos(idPos),\r\n            'dest': idToPos(ran(0,(db.config.numCasillas*db.config.numCasillas)-1)),\r\n            'ruta': [],\r\n            'posIntermedia': idToPos(idPos),\r\n            'velocidad': ran(1,10),\r\n            'direccionMov': 0,\r\n            'img': personajes01,\r\n            'estado': \"\",\r\n            'accion': \"\",\r\n            'inteligencia': ran(7,20),   \r\n            'agotamiento': ran(5,100),\r\n            'sed': ran(5,70),\r\n            'hambre': ran(5,70),\r\n            'salud': ran(5,70),\r\n\r\n            'sexo': sexo,\r\n            'raza': raza,\r\n            'familia': familia,\r\n            'habilidades': ['Supervivencia básica'],\r\n            'hogar': ran(0,(db.config.numCasillas*db.config.numCasillas)-1),\r\n            'reproduccion': {},\r\n        }\r\n    )\r\n    if(raza === 'Pixeliano'){\r\n        db.seres[db.seres.length-1].reproduccion = {\r\n            'tipoReproduccion': 'Vivipara',\r\n            'cicloReproduccion': 360,\r\n            'sexoEmbarazo': 'Hembra',\r\n        }\r\n    }\r\n\r\n}\r\n","//import { db } from './db.js';\r\nimport { distAB, direccionMirada, posToId, vecinos} from './tabla.js';\r\nimport { db } from './db.js';\r\n\r\nexport function obtenerRuta(ser, pos, dest){\r\n    let listaCerrada = [];\r\n    let posTemp = posToId(pos);\r\n    let listaCalcular = [];\r\n    let listaFinal = [];\r\n    \r\n    //Numero de vueltas que dará como máximo el bucle para encontrar una ruta;\r\n    let maximoPasosBucle = 300;\r\n    let pasosMaximo = 0;\r\n\r\n    let listaAbierta = [\r\n        {\r\n        'id': posToId(pos),\r\n        'g': 0,\r\n        'h': distAB( posToId( pos ),posToId( dest ) )*10,\r\n        'f': 0+(distAB( posToId( pos ),posToId( dest ) )*10)+db.tabla[posToId(pos)].penalizacionMov,\r\n        'padre': posToId(pos),\r\n\r\n        }\r\n    ];\r\n\r\n    while (pasosMaximo < maximoPasosBucle) {\r\n        pasosMaximo++;\r\n\r\n        //1. Meter menor F de abierta a cerrada y eliminarlo. Cambiar posicion actual\r\n        if( listaAbierta.length > 0 ){  \r\n            posTemp = aCerrada( menorF( listaAbierta ), listaAbierta, listaCerrada).id;\r\n        }\r\n\r\n        //2. Almacenar vecinos en listaCalcular\r\n        listaCalcular = vecinos(posTemp);\r\n\r\n        //3 Obj es el destino?\r\n        let idFinal = listaCalcular.filter((obj)=>{return obj == posToId(dest)});\r\n        if( idFinal[0] == posToId(dest) ){\r\n            let el = listaCerrada[listaCerrada.length-1];\r\n\r\n            listaCerrada.push(\r\n                {\r\n                    'id': idFinal[0],\r\n                    'g': el.g+costeBase( direccionMirada( el.id, idFinal[0] )),\r\n                    'h': distAB( idFinal[0] ,posToId( dest ) )*10,\r\n                    'f': el.g+costeBase( direccionMirada( el.id, idFinal[0] )) + (distAB( idFinal[0] ,posToId( dest ) )*10) + db.tabla[idFinal[0]].penalizacionMov,\r\n                    'padre': el.id,\r\n                });\r\n\r\n            //Conversión final y fin del programa.\r\n            return conversionFinal(listaCerrada, listaFinal, dest, pasosMaximo);\r\n            \r\n        }else{\r\n            //4.Comprobar posiciones...\r\n            listaCalcular.map((obj)=>{\r\n\r\n                //Si no está en lista cerrada y no es un obstaculo\r\n                if( listaCerrada.filter( objCerrada => objCerrada.id === obj ).length === 0 && db.tabla[obj].obstaculo === false){\r\n          \r\n                    let objDestino = listaAbierta.filter( objAbierta => objAbierta.id === obj );\r\n                    let el = listaCerrada[listaCerrada.length-1];\r\n\r\n                    if(objDestino.length>0){\r\n                        //Si está en la lista abierta\r\n                        if(el.g + costeBase( direccionMirada( el.id, obj )) < objDestino.g){\r\n                            return addObj( el.g,listaAbierta, obj, dest, db, posTemp );\r\n                        }\r\n                    }else{\r\n                        //Si no está en lista abierta, lo añade\r\n                        return addObj( el.g, listaAbierta, obj, dest, db, posTemp );\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if(pasosMaximo>maximoPasosBucle-1){\r\n            return conversionFinal(listaCerrada, listaFinal, dest, pasosMaximo);\r\n        }\r\n    }\r\n}\r\n\r\nfunction costeBase(direccion){\r\n    if(direccion === 1 || direccion === 3 || direccion === 5 || direccion === 7 ){\r\n        return 10;\r\n    }\r\n    if(direccion === 2 || direccion === 4 || direccion === 6 || direccion === 8 ){\r\n        return 14;\r\n    }\r\n    return 0;\r\n}\r\n\r\nfunction menorF(arr){\r\n\r\n    let idArrFinal = 0;\r\n    let f = arr[0].f;\r\n\r\n    arr.map((obj, i) => {\r\n        if (f > obj.f){\r\n            f = obj.f\r\n            idArrFinal = i;};\r\n    });\r\n    return arr[idArrFinal];\r\n}\r\n\r\nfunction aCerrada(id, abierta, cerrada){\r\n\r\n    abierta.map((obj, i)=>{\r\n        if(obj === id) {\r\n            cerrada.push(obj);\r\n            abierta.splice(i, 1);\r\n        }\r\n    });\r\n    return id;\r\n}\r\n\r\nfunction addObj(g, listaAbierta, obj, dest, db, posTemp){\r\n\r\n    listaAbierta.push(\r\n        {\r\n            'id': obj,\r\n            'g': g+costeBase( direccionMirada( posTemp, obj )),\r\n            'h': distAB( obj ,posToId( dest ) )*10,\r\n            'f': g+costeBase( direccionMirada( posTemp, obj )) +  (distAB( obj ,posToId( dest ) )*10) + db.tabla[obj].penalizacionMov,\r\n            'padre': posTemp,\r\n        }\r\n    );\r\n    return listaAbierta[listaAbierta.lenght-1];\r\n}\r\n\r\nfunction conversionFinal(listaCerrada, listaFinal, dest, pasosMaximo, rutaCompleta){\r\n\r\n    let arrInversa = listaCerrada.reverse();\r\n    let next = arrInversa[0].id;\r\n    if(rutaCompleta){\r\n        listaFinal.push(posToId( dest ));\r\n    }else{\r\n        listaFinal.push(next);\r\n    }\r\n    \r\n\r\n    arrInversa.map((objFinal, i)=>{\r\n        if(objFinal.id == next){ \r\n            listaFinal.push(objFinal.id);\r\n            next = objFinal.padre;}\r\n    });\r\n    //Devuelve la ruta\r\n    return listaFinal.reverse();\r\n}","import React, { Component } from 'react';\r\nimport { db } from './db.js';\r\nimport '../css/seresIA.css';\r\nimport { obtenerRuta} from './algoritmoAEstrella.js';\r\nimport { idToPos, posToId, direccionMirada, ran, distAB} from './tabla.js';\r\n\r\nimport spriteMapaSuelo01 from '../recurse/SpritesTerreno01.jpg';\r\nimport spriteMapaSuelo02 from '../recurse/SpritesTerreno02.jpg';\r\nimport spriteMapaSuelo03 from '../recurse/SpritesTerreno03.jpg';\r\nimport personajes01 from '../recurse/Personajes01.png';\r\n\r\n\r\nexport class DibujarSeres extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            'id': this.props.ser.id,\r\n            'tam': db.config.tamCasilla,\r\n            'vivido': 0,\r\n            'posIntermedia': this.props.ser.posIntermedia,\r\n            'setStatePadre': ()=>{this.props.state.cambiarMenu(this.props.ser.id)},\r\n        }\r\n\r\n\r\n        function init(state){\r\n            let ser = db.seres[state.id];\r\n            \r\n\r\n            //TIENE YA UN OBJETIVO\r\n            if(ser.dest != ser.pos){\r\n\r\n                \r\n                //Si no está en su destino se mueve hacia el\r\n                if( posToId(ser.pos) !== posToId(ser.dest) ){\r\n                    //console.log('Moviendose...');\r\n                    moverse(ser); \r\n\r\n                //Una vez llega a su destino    \r\n                }else{\r\n                    //console.log('Ha llegado a su destino');\r\n                }            \r\n            }\r\n        }\r\n\r\n\r\n\r\n        function moverse(ser){\r\n            //console.log('Moviendo...');\r\n\r\n            if(ser.ruta.length > 0 ){              \r\n                //Si no esta en el paso intermedio va a el\r\n                if(posToId(ser.pos) !== posToId(ser.posIntermedia)){\r\n                    darPasoDireccion(ser, ser.direccionMov);\r\n                    //Siguen quedando pasos en la ruta, lo añade como paso intermedio\r\n                    if(ser.ruta.length>0){\r\n                        ser.posIntermedia = idToPos(ser.ruta[0]);\r\n                    }\r\n                //Ha llegado al paso intermedio\r\n                }else{                  \r\n                    ser.ruta.shift();\r\n                    //Siguen quedando pasos\r\n                    if(ser.ruta.length > 0 ){\r\n                        ser.posIntermedia = idToPos(ser.ruta[0]);\r\n                        ser.direccionMov = direccionMirada(posToId(ser.pos), posToId(ser.posIntermedia));\r\n                        darPasoDireccion(ser, ser.direccionMov);\r\n                    //No quedan pasos\r\n                    }else{\r\n                        ser.posIntermedia = ser.pos; \r\n                    }                     \r\n                }\r\n\r\n            //NO HAY RUTA    \r\n            }else{\r\n                //AÑADE UNA NUEVA RUTA HACIA EL DESTINO\r\n                //console.log(ser.nombre+' Buscando una nueva ruta a '+posToId(ser.dest));\r\n                ser.ruta = obtenerRuta(ser, ser.pos, ser.dest);\r\n                if(ser.ruta.length > 0 ){\r\n                    ser.posIntermedia = idToPos(ser.ruta[0]);\r\n                }else{\r\n                    //No ha podido obtener una ruta, 0 pasos encontrados.\r\n                    //console.log('No ha podido obtener una ruta, 0 pasos encontrados.')\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        function darPasoDireccion(ser, direccion){\r\n            let vel = (db.config.tamCasilla/4)/db.config.tamCasilla;\r\n            \r\n            if(ran(0, db.tabla[posToId( db.seres[ser.id].posIntermedia )].penalizacionMov) < ser.velocidad ||\r\n            ran(0,10)>7){//velocidad minima\r\n            \r\n            db.seres[ser.id].agotamiento += 0.1;\r\n\r\n            switch (direccion) {\r\n                case 1:\r\n                    ser.pos[1] -= vel;\r\n                    break;\r\n                case 2:\r\n                    ser.pos[1] -= vel;\r\n                    ser.pos[0] += vel;\r\n                    break;\r\n                case 3:\r\n                    ser.pos[0] += vel;\r\n                    break; \r\n                case 4:\r\n                    ser.pos[0] += vel;\r\n                    ser.pos[1] += vel;\r\n                    break; \r\n                case 5:\r\n                    ser.pos[1] += vel;\r\n                    break;   \r\n                case 6:\r\n                    ser.pos[1] += vel;\r\n                    ser.pos[0] -= vel;\r\n                    break;\r\n                case 7:\r\n                    ser.pos[0] -= vel;\r\n                    break;\r\n                case 8:\r\n                    ser.pos[0] -= vel;\r\n                    ser.pos[1] -= vel;\r\n                    break;      \r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n        //BUCLE DEL PERSONAJE\r\n        setInterval(() => {\r\n            this.setState({\r\n                'vivido': this.state.vivido++\r\n            })\r\n            init(this.state);\r\n\r\n          },100 );\r\n        \r\n        \r\n    }\r\n\r\n    cambioImagenAccion(ser){\r\n        let x = 0;\r\n        let y = 0;\r\n        let propor = (200*db.config.tamCasilla)/40;\r\n        let suelo = db.tabla[posToId(ser.posIntermedia)];\r\n        if(suelo != null && suelo.imgSuelo === spriteMapaSuelo02 && suelo.posImg[1] <= 600 &&  suelo.posImg[1] > 0){\r\n            y= propor*3;      \r\n        }else if(ser.estado === 'Agotado'){ x= propor*1;\r\n        }else if(ser.estado === 'Dormido'){ x= propor*2;\r\n        }\r\n        return x+'px '+y+'px';;\r\n    }\r\n    \r\n    render() {\r\n        let ser = db.seres[this.state.id]; \r\n        let styleSer = {\r\n            'position': 'absolute',\r\n            'zIndex': 2,\r\n            'left': ser.pos[0]*this.state.tam,\r\n            'top': ser.pos[1]*this.state.tam,\r\n            'height': this.state.tam,\r\n            'width': this.state.tam,\r\n\r\n            'backgroundImage': 'url('+ser.img+')',\r\n            'backgroundPosition': this.cambioImagenAccion(ser),\r\n            'backgroundSize': db.config.tamCasilla*6,\r\n        }\r\n\r\n\r\n        return (\r\n            <a style={styleSer} className=\"Seres\" onClick={(event)=>this.state.setStatePadre()}>\r\n                \r\n                {/*\r\n                    ser.ruta.map((pos, i)=>{\r\n                    if(pos != posToId(ser.pos)){\r\n                        return <div style={{\r\n                            'position': 'absolute',\r\n                            'left': ((idToPos(pos)[0]-ser.pos[0])*this.state.tam)+this.state.tam/3,\r\n                            'top': ((idToPos(pos)[1]-ser.pos[1])*this.state.tam)+this.state.tam/3,\r\n                            'height': this.state.tam/8,\r\n                            'width': this.state.tam/8,\r\n                            'background': ser.color,\r\n                        }} key={pos+'-'+i}></div>\r\n                    }})\r\n                */}\r\n                \r\n            </a>\r\n        )\r\n    }\r\n  }\r\n  ","import React, { Component } from 'react';\r\nimport { db } from './db.js';\r\n\r\nclass DibujarMapa extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            'obj': this.props.obj.id\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let ser = db.tabla[this.state.obj];\r\n        let imgPos = ()=>{\r\n            let x = (ser.posImg[0]*db.config.tamCasilla)/200;\r\n            let y = (ser.posImg[1]*db.config.tamCasilla)/200;\r\n            return x+'px '+y+'px';\r\n        }\r\n\r\n        let styleCasilla = {\r\n            'position': 'absolute',\r\n            'left': ser.pos[0]*db.config.tamCasilla,\r\n            'top': ser.pos[1]*db.config.tamCasilla,\r\n            'height': db.config.tamCasilla,\r\n            'width': db.config.tamCasilla,\r\n\r\n            'backgroundImage': 'url('+ser.imgSuelo+')',\r\n            'backgroundPosition': imgPos(),\r\n            'backgroundSize': db.config.tamCasilla*6,\r\n            \r\n        }\r\n\r\n        return (\r\n            <div style={styleCasilla}>\r\n                { db.config.vista === 'VerObstaculo' && <div style={{'color': ser.obstaculo ? 'red':'white' }}>{''+ser.obstaculo}</div> }\r\n                { db.config.vista === 'VerPenalizacion' && <div>{ser.penalizacionMov}</div> }\r\n                { db.config.vista === 'verIdCasillas' && <div>{ser.id}</div> }\r\n            </div>\r\n        )\r\n    }\r\n  }\r\n  \r\n  export default DibujarMapa;","import React, { Component } from 'react';\r\nimport { db } from './db.js';\r\nimport menuSeresIma from '../recurse/menuSeresIma.png';\r\n\r\n\r\nclass MenuSer extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            'id': this.props.ser.id,\r\n            'setStatePadre': ()=>{this.props.state.cambiarMenu(-1)},\r\n        }\r\n\r\n    }\r\n\r\nrigh\r\n    \r\n    render() {\r\n        let ser = db.seres[this.state.id]; \r\n        let style = {\r\n            'position': 'fixed',\r\n            'zIndex': 10,\r\n            'top': '7%',\r\n            'right': '0',\r\n            'height': '85vh',\r\n            'width': '51vh',\r\n            'color': 'white',\r\n            'fontSize': '1em',\r\n            'textAlign': 'center',\r\n\r\n            'backgroundImage': 'url('+menuSeresIma+')',\r\n            'backgroundSize': '100%',\r\n        }\r\n\r\n\r\n        return (\r\n            <div style={style}>     \r\n                <a onClick={(event)=>this.state.setStatePadre()}>CERRAR</a><br/><br/>\r\n                {ser.nombre +' (Familia '+ser.familia+')' }<br/>\r\n                {'Hogar '+ser.hogar}\r\n\r\n            </div>\r\n        )\r\n    }\r\n  }\r\n\r\n  export default MenuSer;","import React, { Component } from 'react';\nimport './App.css';\nimport { db } from './js/db.js';\nimport { crearTabla, generarPlaca, crearSer, recalcularImagenes } from './js/configMap.js';\nimport { DibujarSeres } from './js/seresIA.js';\nimport DibujarMapa from './js/mapa.js';\nimport MenuSer from './js/MenuSer.js';\n\n\n//import { ran } from './js/tabla.js';\n\n  \n//MOTOR DEL JUEGO\n\n  crearTabla();\n  db.tabla.map( obj => recalcularImagenes(obj) );\n\n  crearSer(0, 'Pixeliano', 'Hembra', 'Halem');\n  for(let i = 1; i< 5; i++){\n    crearSer(i,'Pixeliano', 'Hembra', 'Olgran');\n  }\n  \n    \n\n//TALLER DE PRUEBAS\n\n\nconst times = [];\nlet fps;\n\nfunction refreshLoop() {\n  console.log('FPS: '+fps);\n  window.requestAnimationFrame(() => {\n    const now = performance.now();\n    while (times.length > 0 && times[0] <= now - 1000) {\n      times.shift();\n    }\n    times.push(now);\n    fps = times.length;\n    refreshLoop();\n  });\n}\n\n//refreshLoop();\n\n//Detectar entradas del teclado\nlet tecla = 0;\ndocument.onkeypress = (event)=>{\n  console.log(\"Tecla: \" +event.keyCode);\n\n  if(event.keyCode === 101 && db.config.tamCasilla+10 < 150){ db.config.tamCasilla += 10;}\n  if(event.keyCode === 113 && db.config.tamCasilla-10 > 0){ db.config.tamCasilla -= 10;}\n  if(event.keyCode === 100){ window.scrollTo(window.scrollX+25, window.scrollY);}\n  if(event.keyCode === 97){ window.scrollTo(window.scrollX-25, window.scrollY);}\n  if(event.keyCode === 119){ window.scrollTo(window.scrollX, window.scrollY-25);}\n  if(event.keyCode === 115){ window.scrollTo(window.scrollX, window.scrollY+25);}\n  tecla = event.keyCode;\n}\ndocument.onkeyup = (event)=>{\n  if(event.keyCode === tecla){\n    tecla = 0;\n  }\n}\n\n//Detectar entradas del ratón\ndocument.onmousedown = (event)=>{\n  console.log(\"Codigo ratón: \" +event.button);\n\n}\n\n//PINTAR EL JUEGO\n\nclass App extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      'tamCasilla': db.config.tamCasilla,\n      'menuPersonajes': -1,\n      'cambiarMenu': (id)=>{this.setState({'menuPersonajes': id,})},\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\" >\n        {\n          db.tabla.map((obj, i)=>{\n            return <DibujarMapa obj={obj} key={obj+'-'+i}/>\n          })\n        }\n        \n        {\n          db.seres.map((ser, i)=>{\n            return <DibujarSeres db = {db} ser ={ser} key={ser+'-'+i} state = {this.state}/>\n          })\n        } \n        {\n          this.state.menuPersonajes != -1 &&\n          <MenuSer ser={db.seres[this.state.menuPersonajes]} state = {this.state}/>\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nserviceWorker.unregister();\n"],"sourceRoot":""}